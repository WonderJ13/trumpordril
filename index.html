<html>
  <head>
    <title>Trump or Dril</title>
    <link rel="stylesheet" type="text/css" href="index.css" media="screen" />
    <meta name="viewport" content="width=device-width" />
    <script>
      const NIL = 0;
      const TRUMP = 1;
      const DRIL = 2;
      const ANSWERS = [TRUMP, DRIL, TRUMP, DRIL, TRUMP, DRIL, TRUMP];
      const GUESSES = [NIL, NIL, NIL, NIL, NIL, NIL, NIL];

      function nextQuestion(current_question) {
        var quiz_area = document.getElementById('quiz');
        quiz_area.style.marginLeft = ((current_question+1)*-100) + "%";
      }

      function getScore() {
        var score = 0;
        for (var i = 0; i < ANSWERS.length; i++) {
          if (ANSWERS[i] == GUESSES[i]) {
            score += 1;
          }
        }
        return score;
      }

      function updateScore() {
        var score = getScore();
        var scoreTracker = document.getElementById("score");
        var scoreMessage = document.getElementById("score-message");

        scoreTracker.textContent = "You scored " + score + "/" + ANSWERS.length + " questions correct!";

        switch(score) {
          case 0:
            scoreMessage.textContent = "Wow... that's just impressive.";
            break;
          case 1:
            scoreMessage.textContent = "Sample Text 1";
            break;
          case 2:
            scoreMessage.textContent = "Sample Text 2";
            break;
          case 3:
            scoreMessage.textContent = "Sample Text 3";
            break;
          default:
            scoreMessage.textContent = "Sample Text 4";
        }
      }

      function guess(current_question, user_guess) {
        //Record Answer
        GUESSES[current_question-1] = user_guess;
        updateScore();

        var str = " this tweet was made by ";
        if (ANSWERS[current_question-1] == TRUMP) {
          str += "@realDonaldTrump";
        } else {
          str += "@dril";
        }

        if (ANSWERS[current_question-1] == user_guess) {
          str = "Correct! " + str;
        } else {
          str = "Nope! " + str;
        }

        var questionElem = document.getElementById("" + current_question);
        var buttonElem = document.getElementById(current_question + "-buttons");

        questionElem.firstElementChild.textContent = str;

        //Remove Trump/Dril Buttons
        buttonElem.lastElementChild.remove();
        buttonElem.lastElementChild.remove();

        var cont = document.createElement("button");
        cont.textContent = "Continue";
        cont.onclick = () => nextQuestion(current_question);
        
        if (current_question == ANSWERS.length) {
          cont.textContent = "See Results";
        }
        buttonElem.appendChild(cont);
      }
    </script>
  </head>
  <body>
    <header>
      <img src="trump.png"/>
      <h1>TRUMP</h1>
      <h1>OR</h1>
      <h1>DRIL</h1>
      <img src="dril.png" />
    </header>
    <div id="quiz">
      <div class="question">
        <div class="question-content" id="0">
          <p class="prompt">Can you differentiate between @realDonaldTrump and @dril Tweets?</p>
          <p class="tweet">Click start to start the test!</p>
          <div class="buttons" id="0-buttons">
            <button onclick="nextQuestion(0)">Start</button>
          </div>
        </div>
      </div>
      <div class="question">
        <div class="question-content" id="1">
          <p class="prompt">Who made this tweet?</p>
          <p class="tweet">My twitter has become so powerful, that I can actually make my enemies tell the truth.</p>
          <div class="buttons" id="1-buttons">
            <button onclick="guess(1, TRUMP)">Trump</button>
            <button onclick="guess(1, DRIL)">Dril</button>
          </div>
        </div>
      </div>
      <div class="question">
        <div class="question-content" id="2">
          <p class="prompt">Who made this tweet?</p>
          <p class="tweet">Tweet #2</p>
          <div class="buttons" id="2-buttons">
            <button onclick="guess(2, TRUMP)">Trump</button>
            <button onclick="guess(2, DRIL)">Dril</button>
          </div>
        </div>
      </div>
      <div class="question">
        <div class="question-content" id="3">
          <p class="prompt">Who made this tweet?</p>
          <p class="tweet">Tweet #3</p>
          <div class="buttons" id="3-buttons">
            <button onclick="guess(3, TRUMP)">Trump</button>
            <button onclick="guess(3, DRIL)">Dril</button>
          </div>
        </div>
      </div>
      <div class="question">
        <div class="question-content" id="4">
          <p class="prompt">Who made this tweet?</p>
          <p class="tweet">Tweet #4</p>
          <div class="buttons" id="4-buttons">
            <button onclick="guess(4, TRUMP)">Trump</button>
            <button onclick="guess(4, DRIL)">Dril</button>
          </div>
        </div>
      </div>
      <div class="question">
        <div class="question-content" id="5">
          <p class="prompt">Who made this tweet?</p>
          <p class="tweet">Tweet #5</p>
          <div class="buttons" id="5-buttons">
            <button onclick="guess(5, TRUMP)">Trump</button>
            <button onclick="guess(5, DRIL)">Dril</button>
          </div>
        </div>
      </div>
      <div class="question">
        <div class="question-content" id="6">
          <p class="prompt">Who made this tweet?</p>
          <p class="tweet">Tweet #6</p>
          <div class="buttons" id="6-buttons">
            <button onclick="guess(6, TRUMP)">Trump</button>
            <button onclick="guess(6, DRIL)">Dril</button>
          </div>
        </div>
      </div>
      <div class="question">
        <div class="question-content" id="7">
          <p class="prompt">Who made this tweet?</p>
          <p class="tweet">Tweet #7</p>
          <div class="buttons" id="7-buttons">
            <button onclick="guess(7, TRUMP)">Trump</button>
            <button onclick="guess(7, DRIL)">Dril</button>
          </div>
        </div>
      </div>
      <div class="question">
        <div class="question-content" id="end">
          <p class="prompt" id="score"></p>
          <p class="tweet" id="score-message"></p>
          <div class="buttons">
            <p>Made with &#x1f49c; by <a href="https://twitter.com/WonderJ13">@WonderJ13</a></p>
          </p>
        </div>
      </div>
    </div>
  </body>
</html>
